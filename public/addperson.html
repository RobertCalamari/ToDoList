<!DOCTYPE html>



    <script src='http://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script>
    <script  src="../src/index.js"></script>

<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="theme-color" content="#000000">

    <link rel="manifest" href="%PUBLIC_URL%/manifest.json">
    <link rel="shortcut icon" href="%PUBLIC_URL%/favicon.ico">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" integrity="sha384-WskhaSGFgHYWDcbwN70/dfYBj47jz9qbsMId/iRN3ewGhXQFZCSftd1LZCfmhktB" crossorigin="anonymous">



    <title>Splitter</title>
  <link rel='stylesheet prefetch' href='http://cdnjs.cloudflare.com/ajax/libs/animate.css/3.2.3/animate.min.css'>
  <link rel='stylesheet prefetch' href='https://fonts.googleapis.com/css?family=Roboto:400italic,700italic,700,400'>
  <link rel="stylesheet" href="style.css">
  </head>
  <body>
    <noscript>
      You need to enable JavaScript to run this app.
    </noscript>

    
    <div class="pageAdd" id="pageAdd">
      <div id="root"></div>
      <h4 id="addpersonnum">Add Person 1</h4>
      
      
      <br>

      <input type="text" class="box" id="name" name="name" placeholder="Name"><br>
      <input type="text" class="box" id="amount" name="amount" placeholder="Amount"><br>
      <input type="text" class="box" id="tip" name="tip" placeholder="Tip"><br>
      <input type="text" class="box" id="tax" name="tax" placeholder="Tax Percentage"><br>
      <br>
        <div class="round">
          <input type="checkbox" id="checkbox" /> 
          <label style="color: #666666" for="checkbox"></label>
        </div>
        &nbsp;&nbsp;&nbsp;&nbsp;
        <label style="color: #666666">Birthday</label>
      

      <br><br><br><br><br><br>

      <input type="submit" class="button" value="Add Person" name="submit" id="submit" onclick="buttonAdd()">
      <input type="submit" class="button" value="Done" name="submit" id="submit" onclick="buttonDone()">


      <script type="text/javascript">
        
      </script>



    </div>








<div class="pageEdit" id="pageEdit" style="display:none;">
      <div id="root"></div>
      <h4 id="addpersonnum">Edit Person</h4>
      
      
      <br>

      <input type="text" class="box" id="name2" name="name" placeholder="Name"><br>
      <input type="text" class="box" id="amount2" name="amount" placeholder="Amount"><br>
      <input type="text" class="box" id="tip2" name="tip" placeholder="Tip"><br>
      <input type="text" class="box" id="tax2" name="tax" placeholder="Tax Percentage"><br>
      <br>
        <div class="round">
          <input type="checkbox" id="checkbox2" /> 
          <label style="color: #666666" for="checkbox2"></label>
        </div>
        &nbsp;&nbsp;&nbsp;&nbsp;
        <label style="color: #666666">Birthday</label>
      

      <br><br><br><br><br><br>

      <input type="submit" class="button" value="Edit Person" name="submit" id="buttonAD" onclick="buttonAddEdit(this.name)">


      <script type="text/javascript">
        
      </script>



    </div>














    



    <div class="pageFinal" id="pageFinal" style="display:none;">
      <h4>Splitter</h4>

      <br><br><br>
      <div id="printme" class="printme"></div>



    <div class="backdrop"></div>
    <div class="fab" id="masterfab"><span>+</span></div>



    </div>


  </body>
</html>



<script type="text/javascript">
  
var pageFinal1 = document.getElementById('pageFinal');
var pageAdd1 = document.getElementById('pageAdd');
var pageEdit1 = document.getElementById('pageEdit');
var inpName = document.getElementById('name');
var inpAmount = document.getElementById('amount');
var inpTip = document.getElementById('tip');
var inpTax = document.getElementById('tax');
var printL = document.getElementById('printme');
var inpbday = document.getElementById('checkbox');
var addpn = document.getElementById('addpersonnum');
var inpName2 = document.getElementById('name2');
var inpAmount2 = document.getElementById('amount2');
var inpTip2 = document.getElementById('tip2');
var inpTax2 = document.getElementById('tax2');
var inpbday2 = document.getElementById('checkbox2');
var buttonAD2 = document.getElementById('buttonAD');

var personList=[];
var bdayadd = 0;

function buttonEdit(id){
    

    inpName2.value=personList[id].name;
    inpAmount2.value=personList[id].amount;
    inpTip2.value=personList[id].tip;
    inpTax2.value=personList[id].tax;
    buttonAD2.name=id;


    if(personList[id].birthday == true)
    {
          inpbday2.checked = true;
    }
    else
    {
          inpbday2.checked = false;
    }

    pageFinal1.style.display = 'none';
    pageAdd1.style.display = 'none';
    pageEdit1.style.display = 'inline-block';
}


function buttonAddEdit(id){
    
       

        var bisc = false;
        if(personList[id].birthday==true)
        {
            bisc=true;
        }
  
        personList[id].name=inpName2.value;
        personList[id].amount=inpAmount2.value;
        personList[id].tip=inpTip2.value;
        personList[id].tax=inpTax2.value;
        var ttotal =Number(inpAmount2.value)   +    Number(inpTip2.value)    +    ( Number(inpAmount2.value)  *  ( Number(inpTax2.value) * 0.01 ) );
        ttotal = Math.round(100*ttotal)/100;  
        personList[id].total=ttotal;

        if(inpbday2.checked == true)
        {
            personList[id].birthday=true;
            afaddround = ttotal;
            numofbd++;
        }
        else
        {
            personList[id].birthday=false;
            if(bisc==true)
            {
              afaddround = 0;
              numofbd--;
            }
        }

        if(inpName2.value == "" || inpAmount2.value == "" || inpTip2.value == "" || inpTax2.value == "")
        {
            alert("Please fill in all boxes!");
        } 
        else
        {
              pageFinal1.style.display = 'inline-block';
    pageAdd1.style.display = 'none';
    pageEdit1.style.display = 'none';
        }

    
    
    

    printOut();



}

var bfsplit = 0;
var bfround = 0;
var temp = 0;
var bfaddround = 0;
var afaddround = 0;
var numofbd = 0;


var multibday = 0;


function printOut(){
      multibday = 0;

      printL.innerHTML="";

        

        for(i=0;i<personList.length;i++)
        {
          if(personList[i].birthday==true)
          {
              multibday+=personList[i].total;
          }

        }


        multibday=multibday/(personList.length-numofbd);
        multibday = Math.round(100*multibday)/100;  
        for(i=0;i<personList.length;i++)
        {  
                   // //bfsplit = bdayadd;
                   // bdayadd = afaddround/(personList.length-numofbd);
                   // //bfround = bdayadd;
                   // bdayadd = Math.round(100*bdayadd)/100;  
                   

                  //personList[i].total = Number(personList[i].amount)  +    Number(personList[i].tip)    +    ( Number(personList[i].amount)  *  ( Number(personList[i].tax) * 0.01 ) );

                  if(personList[i].birthday==false)
                  {
                      personList[i].total = Number(personList[i].amount)  +    Number(personList[i].tip)    +    ( Number(personList[i].amount)  *  ( Number(personList[i].tax) * 0.01 ) ) + multibday;
                  }
                  else
                  {
                    personList[i].total = 0;
                  }


             
                  printL.innerHTML+="<div class='insidediv' style='display: inline-block;width: 125px;color: #666666'>" + personList[i].name + "</div>";
                  printL.innerHTML+="<div class='insidediv' style='display: inline-block;width: 100px;color: #000000'>$" + parseFloat(personList[i].total).toFixed(2) + "</div>";
                  printL.innerHTML+="<div class='insidediv' style='display: inline-block;width: 30px'>" + '<button type="submit"     class="buttonedit" name="editbut" value="' + i + '" onclick="buttonEdit(this.value)"></button>' + "</div>";
                  //printL.innerHTML+="<div class='insidediv' style='display: inline-block;width: 30px'>" + '<button type="submit" class="buttondel" name="delbut" value="' + i + '" onclick="buttonDel(this.value)"></button>' + "</div>";
                  printL.innerHTML+="<br>";

        }

}






function buttonDone() {

        pageFinal1.style.display = 'inline-block';
        pageAdd1.style.display = 'none';
        pageEdit1.style.display = 'none';
        printOut();
       



    }

function buttonReturn() {

        pageFinal1.style.display = 'none';
        pageAdd1.style.display = 'inline-block';
        pageEdit1.style.display = 'inline-block';
    }




function buttonAdd() {

      var err = false;
      if(inpName.value == "" || inpAmount.value == "" || inpTip.value == "" || inpTax.value == "")
      {
          err = true;
      } 
      

    



      if(err==false)
      {


      var yesorno = false;
      

      //var ttotal =Number(personList[i].amount)   +    Number(personList[i].tip)    +    ( Number(personList[i].amount)  *  ( Number(personList[i].tax) * 0.01 ) );
      var ttotal =Number(inpAmount.value)   +    Number(inpTip.value)    +    ( Number(inpAmount.value)  *  ( Number(inpTax.value) * 0.01 ) );
      //temp = ttotal;
      ttotal = Math.round(100*ttotal)/100;  
      if(inpbday.checked == true)
      {
          //bfaddround = temp;
          afaddround = ttotal;
          yesorno = true;
          bdayadd = ttotal;
          numofbd++;


      }


      

      var person = {name:inpName.value,amount:inpAmount.value,tip:inpTip.value,tax:inpTax.value,birthday:yesorno,total:ttotal};

      personList.push(person);

      inpName.value="";
      inpAmount.value="";
      inpTip.value="";
      inpTax.value="";
      inpbday.checked = false;

      addpn.innerHTML= "Add Person " + (personList.length+1);
        


          


      }
      else
      {
        alert("Please fill in all boxes!");
      }




    }




    $(function(){
  $(".fab,.backdrop").click(function(){
     
pageFinal1.style.display = 'none';
          pageAdd1.style.display = 'inline-block';
          pageEdit1.style.display = 'none';
      

      
  });
});











</script>